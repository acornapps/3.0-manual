###  배포작업및3.1.7 - 2 서버 생성

그룹관리에서 서버를 생성하거나, 배포작업을 생성하고 실행합니다.

##### a\) 서비스 -&gt; 어플리케이션 맵 선택 -&gt; 서버 그룹 우측 &gt; 버튼 클릭\(메뉴 활성화\) -&gt; 배포작업 및 서버 생성을 클릭합니다.![](/assets/배포작업및서버생성.png)

##### b\) 서비스 -&gt; 어플리케이션 맵 선택 -&gt; 배포 -&gt; 배포 작업 생성을 클릭합니다.![](/assets/서버생성수정.png)![](/assets/서버 생성3.png)

| **목록** | **설명** |
| :--- | :--- |
| ![](/assets/서버 생성5.png) | 서버의 기본 정의입니다.  **그룹** - 생성할 서버가 위치할 그룹을 선택합니다. **이름** - 서버의 이름을 정의합니다. **설명** - 서버에 대한 설명입니다. **버전** - 해당 서버의 버전입니다. **유형** - 서버의 유형을 Single/Multi로 정의할 수 있습니다. **인스턴스 수** - 해당 서버의 인스턴스 수를 정의합니다. |
| ![](/assets/서버 생성6.png) | 업데이트 정책입니다. Rolling update/Recreate로 정의합니다. 롤링 업데이트 할 경우중단 pod와 확장 pod를 이용하여 자원의 효율성을 증대한 무중단 업데이트가 가능하고, Recreate를 이용하여 한번에 업데이트가 가능합니다. |
| ![](/assets/서버 생성7.png) | 오토 스케일링 유형을 CPU로 설정하고, 사용량에 따라서 여부와 서버 증대 숫자를 결정합니다. |
| ![](/assets/서버 생성8.png) | 서버에서 사용할 볼륨을 정의합니다. 볼륨을 정의하여 컨테이너에 마운트 할 수 있습니다.                                                                           **Empty Dir** - 컨테이너 안에 임시디렉토리를 볼륨으로 잡습니다.        **Host Path** - 컨테이너가 떠있는 노드서버에 볼륨을 잡습니다.           **Config Map** - 서버에 등록 되어있는 Config File을 사용합니다.      **Persistence Volume** - 외부 물리스토리지를 볼륨으로 잡습니다. |
| ![](/assets/서버 생성9.png) | 컨테이너로 사용할 이미지를 Harbor 레지스트리나 공용 이미지에서 선택합니다. 컨테이너가 사용할 CPU/Memory 자원을 지정합니다. |
| ![](/assets/서버 생성10.png) | 컨테이너의 포트를 설정합니다. internal Cluster IP Loadbalancer |
| ![](/assets/서버 생성11.png) | 컨테이너가 실행할 커맨드를 입력합니다. |
| ![](/assets/서버 생성12.png) | 컨테이너에 환경변수 값을 정의합니다. |
| ![](/assets/서버 생성13.png) | 위에서 설정한 볼륨을 마운트합니다. |
| ![](/assets/서버 생성14.png) | 보안정책을 설정할 수 있습니다. |
| ![](/assets/서버 생성15.png) | 컨테이너의 헬스체크를 진행합니다.                                                  **LivenessProbe** : 서버가 정상 동작중인지 확인하기 위한 목적          **ReadinessProbe **: 서버가 처음 올라올 때 서비스 할 준비가 되었는 지 체크 |



