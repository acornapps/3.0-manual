### 3.1.7 - 2 배포작업 및 서버 생성

그룹관리에서 서버를 생성하거나, 배포작업을 생성하고 실행합니다.

##### a\) 서비스 -&gt; 어플리케이션 맵 선택 -&gt; 서버 그룹 우측 + 버튼\(서버 생성\)을 클릭합니다.

![](/assets/서버생성.png)![](/assets/서버생성2.png)

* 서버 기본 정보 정의![](/assets/서버생성3.png)
  | **항목** | **설명** |
  | :--- | :--- |
  | 이름 | 서버의 이름을 정의합니다. |
  | 그룹 | 서버가 올라갈 서버그룹을 선택합니다. |
  | 유형 | 서버의 유형을 Single/Multi로 선택합니다. |
  | 설명 | 서버의 설명을 정의합니다. |
* 컨테이너 생성

  * 컨테이너 우측 '+ 버튼' 클릭![](/assets/서버생성4.png)![](/assets/서버생성5.png)

    | **항목** | **설명** |
    | :--- | :--- |
    | 기본 정보 | 컨테이너로 사용할 이미지를 Harbor 레지스트리나 공용 이미지에서 선택하고,  사용할 CPU/Memory 리소스값을 정의합니다. |
    | 커맨드 | 컨테이너가 생성하면서 사용할 커맨드를 입력받습니다. |
    | 환경 변수 | 컨테이너의 환경변수 값을 입력받습니다. |
    | 보안 설정 | 보안정책을 설정할 수 있습니다. |
    | 헬스 체크 | 컨테이너의 헬스체크를 진행합니다. |

* 인스턴스

  * 인스턴스 항목의 '✎ 버튼' 클릭

  ![](/assets/서버생성6.png)

![](/assets/서버생성7.png)

| **항목** | **설명** |
| :--- | :--- |
| 오토 스케일링 유형 | 오토 스케일링을 하기위한 기준을 정의 합니다. |
| CPU 사용율\(백분율\) | 오토스케일링의 기준\(사용율\)입니다. |
| 최대개수 | 스케일링의 인스턴스 최댓값입니다. |
| 인스턴스 수 | 기본 인스턴스의 대수입니다. |

* 업데이트 정책

  * 업데이트 정책 항목의 '✎ 버튼' 클릭

![](/assets/서버생성8.png)

![](/assets/서버생성9.png)

| **항목** | **설명** |
| :--- | :--- |
| 업데이트 정책 | Rolling update/Recreate로 정의합니다. 롤링업데이트 통해, 중단 pod와 확장 pod를 정의하여 자원의 효율성을 증대한 무중단 업데이트가 가능하고, Recreate 통하여 한번에 업데이트가 가능합니다. |
| 서비스 제거\(중단Pod비율\) | 롤링업데이트를 할 경우, 중단되는 Pod의 비율입니다. |
| 확장 Pod비율 | 롤링업데이트를 할 경우, 늘어날 수 있는 Pod의 비율입니다. |

* 볼륨



| [클러스터 ](/c11c-be44-c2a4/c5b4-d50c-b9ac-cf00-c774-c158-b9f5/d074-b7ec-c2a4-d130-bbf8-d130-b9c1.md) | 서버에서 사용할 볼륨을 정의합니다. 볼륨을 정의하여 컨테이너에 마운트 할 수 있습니다.                                                                           **Empty Dir** - 컨테이너 안에 임시디렉토리를 볼륨으로 잡습니다.        **Host Path** - 컨테이너가 떠있는 노드서버에 볼륨을 잡습니다.           **Config Map** - 서버에 등록 되어있는 Config File을 사용합니다.      **Persistence Volume** - 외부 물리스토리지를 볼륨으로 잡습니다. |
| :--- | :--- |
|  | 컨테이너의 포트를 설정합니다. internal Cluster IP Loadbalancer |
|  | 위에서 설정한 볼륨을 마운트합니다. |



